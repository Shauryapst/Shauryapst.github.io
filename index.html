<!DOCTYPE html>
<html>

<head>
    <title>Extract Query Parameters</title>
</head>

<body>
    <script>
        function getQueryParameters() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const sessionId = urlParams.get('sessionId');
            const clientId = urlParams.get('clientId');
            console.log(clientId);
            console.log(sessionId);

            if (sessionId && clientId) {
                console.log('Session ID:', sessionId);
                console.log('Client ID:', clientId);
                const isAppInstalled = false;

                // const appScheme = `twitter://?clientId=${clientId}&sessionId=${sessionId}`;
                const appScheme = `twitter://`;

                const userAgent = window.navigator.userAgent;

                setTimeout(function () {
                    if (userAgent.includes('Android')) {
                        window.location.href = 'https://play.app.goo.gl/?link=https://play.google.com/store/apps/details?idcom.twitter.android';
                    } else if (userAgent.includes('iPhone') || userAgent.includes('iPad')) {
                        window.location.href = 'https://apps.apple.com/in/app/x/id333903271';
                    }
                }, 25)

                window.location = appScheme;
            } else {
                console.log('Session ID or Client ID not found in the URL.');
            }
        }

        // Call the function to extract query parameters when the page loads
        getQueryParameters();
    </script>
</body>

</html>
